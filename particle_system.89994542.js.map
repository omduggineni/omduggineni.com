{"mappings":"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","sources":["src/assets/js/particle_system.js","node_modules/@swc/helpers/src/_class_call_check.mjs","node_modules/@swc/helpers/src/_create_class.mjs"],"sourcesContent":["const pix2browserstr = (pix) => {\n    return pix + 'px';\n}\n\nclass ValueNoiseGenerator{\n    constructor(max_value, max_steps){\n        this.value = Math.random() * max_value;\n        this.next_value = Math.random() * max_value;\n        this.next_value_steps = Math.floor((Math.sqrt(Math.random()) * (max_steps-1)) + 1);\n        this.max_value = max_value;\n        this.max_steps = max_steps;\n        this.step_num = 0;\n    }\n    ease(a, b, t){\n        return a + (b - a) * t; //linear interp for now\n    }\n    getValue(){\n        let value = this.ease(this.value, this.next_value, this.step_num / this.next_value_steps);\n        //console.log(this.value, this.next_value, this.step_num, this.next_value_steps, value);\n        this.step_num++;\n        if(this.step_num == this.next_value_steps){\n            this.step_num = 0;\n            this.value = this.next_value;\n            this.next_value = Math.random() * this.max_value;\n            this.next_value_steps = Math.floor((Math.sqrt(Math.random()) * (this.max_steps-1)) + 1);\n        }\n        return value;\n    }\n}\n\nconst particleSay = (text, parentElement, x, y, lifetime) => {\n    let element = document.createElement('span');\n    element.innerText = text;\n    element.classList.add('particle-system-text');\n    parentElement.appendChild(element);\n    element.style.top = y + 'px';\n    element.style.left = x + 'px';\n    element.style.animationDuration = lifetime/1000 + 's';\n    setTimeout(element.remove.bind(element), lifetime);\n    return element;\n}\nconst particlesSay = (text, particles, lifetime) => {\n    let elements = [];\n    let parentElement = particles[0]._parentSystem.element;\n    for(let i = 0; i < particles.length; i++){\n        let element = document.createElement('span');\n        element.classList.add('particle-system-text');\n        element.style.top = particles[i]._y + 'px';\n        element.style.left = particles[i]._x + 'px';\n        element.style.animationDuration = lifetime/1000 + 's';\n        element.innerText = text;\n        elements.push(element);\n        parentElement.appendChild(element);\n    }\n    setTimeout(() => {\n        for(let i = 0; i < elements.length; i++){\n            elements[i].remove();\n        }\n    }, lifetime);\n    return elements;\n}\n\n\nclass UtterancesObject{\n    constructor(utterances){\n        this.particles = [];\n        this.utterances = utterances;\n        this.utterance_index = 0\n        this.is_speaking = false;\n    }\n    add_particle(particle){\n        this.particles.push(particle);\n    }\n    make_utterance(){\n        if(this.particles.length == 0){\n            this.is_speaking = false;\n            return false;\n        }\n        let utterance = this.utterances[this.utterance_index];\n        particlesSay(utterance[0], this.particles, utterance[1]*1000);\n        this.utterance_index++;\n        return this.utterance_index < this.utterances.length;\n    }\n    speak(){\n        if(this.make_utterance()){\n            this.is_speaking = true;\n            setTimeout(this.speak.bind(this), this.utterances[this.utterance_index-1][1]*1000);\n        }else{\n            this.is_speaking = false;\n            this.utterance_index = 0;\n        }\n    }\n    speakIn(time){\n        if(!this.is_speaking){\n            if(this.speakTimeout || false) clearTimeout(this.speakTimeout);\n            this.speakTimeout = setTimeout(this.speak.bind(this), time);\n        }\n    }\n}\n\nconst UtterancesLibrary = {\n    rick_utterances: new UtterancesObject([[\"We're\", 0.3800000000000001], ['no', 0.2699999999999998], ['strangers', 0.24], ['to', 0.29000000000000004], ['love', 2.83], ['You', 0.33000000000000007], ['know', 0.22999999999999954], ['the', 0.25], ['rules', 0.6900000000000004], ['and', 0.3600000000000003], ['so', 0.40999999999999925], ['do', 0.3600000000000003], ['I', 1.63], ['A', 0.2900000000000009], ['full', 0.21999999999999886], [\"commitment's\", 0.7699999999999996], ['what', 0.25], [\"I'm\", 0.5400000000000009], ['thinking', 0.3200000000000003], ['of', 1.8100000000000005], ['you', 0.3299999999999983], [\"wouldn't\", 0.4800000000000004], ['get', 0.2599999999999998], ['this', 0.25], ['from', 0.46000000000000085], ['any', 0.40000000000000036], ['other', 0.21999999999999886], ['guy', 0.26000000000000156], ['I', 0.25], ['how', 0.9599999999999973], [\"I'm\", 1.3000000000000007], ['feeling', 0.3500000000000014], ['gotta', 0.259999999999998], ['make', 0.25], ['you', 0.2900000000000027], ['understand', 0.7899999999999991], ['never', 0.41999999999999815], ['gonna', 1.620000000000001], ['give', 0.39000000000000057], ['you', 0.23999999999999844], ['up', 0.2700000000000031], ['never', 0.4299999999999997], ['gonna', 0.34999999999999787], ['let', 0.2699999999999996], ['you', 0.6900000000000013], ['down', 0.23999999999999844], ['never', 0.18000000000000327], ['gonna', 0.2699999999999996], ['run', 0.2699999999999996], ['around', 0.4299999999999997], ['and', 0.7399999999999984], ['desert', 0.23000000000000043], ['you', 0.16000000000000014], ['never', 0.3200000000000003], ['hi', 0.25], ['hi', 0.35999999999999943], ['hi', 0.6900000000000013], ['hi', 0.259999999999998], ['hi', 0.15000000000000213], ['hi', 0.16000000000000014], ['hi', 0.17999999999999972], ['hi', 0.35999999999999943], ['hi', 0.3500000000000014], ['hi', 0.48999999999999844], ['hi', 0.5000000000000036], ['hi', 0.3399999999999963], ['hi', 0.39000000000000057], ['hi', 1.1400000000000006], ['hi', 0.240000000000002], ['hi', 0.17999999999999972], ['hi', 0.28999999999999915], ['hi', 0.28999999999999915], ['hi', 0.36999999999999744], ['hi', 0.7899999999999991], ['hi', 0.2600000000000051], ['hi', 0.14999999999999858], ['hi', 0.269999999999996], ['hi', 0.37000000000000455], ['hi', 0.3200000000000003], ['hi', 0.7299999999999969], ['hi', 0.21000000000000085], ['hi', 0.14000000000000057], ['hi', 0.0799999999999983], ['hi', 0.20000000000000284], ['hi', 0.4200000000000017], ['hi', 0.29999999999999716], ['hi', 0.6099999999999994], ['hi', 0.4200000000000017], ['hi', 0.3399999999999963], ['hi', 0.4299999999999997], ['hi', 1.0]]),\n};\n\nclass Particle{\n    constructor(parentElement, parentSystem){\n        this._speed = Particle.SPEED;\n        this._parentSystem = parentSystem;\n        this._x = Math.random() * this._parentSystem.width;\n        this._y = Math.random() * this._parentSystem.height;\n        this._z_generator = new ValueNoiseGenerator(10, 100);\n        this._z = this._z_generator.getValue()+10;\n        //this.brightness = new ValueNoiseGenerator(1, 100);\n\n        this._theta_generator = new ValueNoiseGenerator(Math.PI * 2, 500);\n        //console.log(this._theta_generator.getValue());\n        this._theta = this._theta_generator.getValue();//Math.random() * Math.PI * 2;\n        this.element = document.createElement('div');\n        this.element.classList.add('particle-system-particle');\n        this.element.style.left = this._x + 'px';\n        this.element.style.top = this._y + 'px';\n        this.element.style.width = this._z + 'px';\n        this.element.style.height = this._z + 'px';\n        this.element.style.opacity = Math.min(2/(this._z), 1);\n        //this.element.style.filter = 'blur(' + Math.max(this._z-8, 0)/4 + 'px)';\n        parentElement.appendChild(this.element);\n    }\n    update(){\n        //particle calculation logic\n        this._x = (this._x + (Math.cos(this._theta) * this._speed) + this._parentSystem.width) % this._parentSystem.width;\n        this._y = (this._y + (Math.sin(this._theta) * this._speed) + this._parentSystem.height) % this._parentSystem.height;\n        this._theta = this._theta_generator.getValue();//Math.random() * 0.2 - 0.1;\n        //console.log(this._theta);\n        this._speed += (Math.random() - Math.random()) * 0.1;\n        this._speed = Particle.SPEED + (this._speed-Particle.SPEED) * (this.SPEED > Particle.SPEED ? 0.998 : 0.95);\n        this._z = this._z_generator.getValue()+10;\n\n        if(Math.random() > 0.999) particleSay(\"Hello!\", this._parentSystem.element, this._x, this._y, 1000);\n\n        //actual UI update\n        this.element.style.left = this._x + 'px';\n        this.element.style.top = this._y + 'px';\n        this.element.style.width = this._z + 'px';\n        this.element.style.height = this._z + 'px';\n        this.element.style.opacity = Math.min(2/(this._z), 1);\n        //this.element.style.filter = 'blur(' + this._z-8 + 'px)';\n    }\n    sayUtterances(utterances, delay_start){\n        //console.log(utterances);\n        utterances.add_particle(this);\n        utterances.speakIn(delay_start);\n    }\n    raycast(origin_x, origin_y, direction_x, direction_y){\n        let this_x = this._x;\n        let this_y = this._y;\n        let this_radius = this._z/2;\n        let a = direction_x * direction_x + direction_y * direction_y;\n        let b = 2 * (origin_x * direction_x + origin_y * direction_y);\n        let c = origin_x * origin_x + origin_y * origin_y - this_radius * this_radius;\n        let discriminant = b * b - 4 * a * c;\n        if(discriminant < 0) return -1;\n        let t = (-b - Math.sqrt(discriminant)) / (2 * a);\n        if(t < 0) return -1;\n        return t;\n    }\n}\nParticle.SPEED=1;\nParticle.WIDTH=15;\nclass ParticleSystem{\n    constructor(parentElement, numParticles){\n        this._ticknum = 0;\n\n        this.width = window.innerWidth-Particle.WIDTH;\n        this.height = document.body.scrollHeight-Particle.WIDTH;\n\n        parentElement.style.height = this.height + 'px';\n\n        this.element = parentElement;\n\n        this.particles = [];\n        let addParticle = ()=>{\n            this.particles.push(new Particle(this.element, this));\n        }\n        for(let i = 0; i < numParticles; i++){\n            setTimeout(addParticle, i);\n        }\n        this.update_this = this.update.bind(this);\n        requestAnimationFrame(this.update_this);\n        window.addEventListener('resize', this.on_resize.bind(this));\n    }\n    on_resize(){\n        this.width = window.innerWidth;\n        this.height = document.body.scrollHeight;\n        this.element.style.height = this.height + 'px';\n    }\n    update(){\n        for(let i = 0; i < this.particles.length; i++){\n            this.particles[i].update();\n        }\n        this._ticknum++;\n        requestAnimationFrame(this.update_this);\n    }\n    raycast(origin_x, origin_y, direction_x, direction_y){\n        let closest_t = -1;\n        let closest = null;\n        for(let i = 0; i < this.particles.length; i++){\n            let t = this.particles[i].raycast(origin_x, origin_y, direction_x, direction_y);\n            if(t > 0 && (closest_t < 0 || t < closest_t)){\n                closest_t = t;\n                closest = this.particles[i];\n            }\n        }\n        return closest, closest_t;\n    }\n}\n\nexport {ParticleSystem, Particle, UtterancesLibrary};","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n"],"names":["$71mVs","parcelRequire","$b60e4d919710b3f1$var$ValueNoiseGenerator","ValueNoiseGenerator","max_value","max_steps","this","value","Math","random","next_value","next_value_steps","floor","sqrt","step_num","key","a","b","t","ease","$b60e4d919710b3f1$export$39ffc4fe48846771","rick_utterances","UtterancesObject","utterances","particles","utterance_index","is_speaking","particle","push","length","utterance","text","lifetime","elements","parentElement","_parentSystem","element","i1","document","createElement","classList","add","style","top","_y","left","_x","animationDuration","innerText","appendChild","setTimeout","i","remove","$b60e4d919710b3f1$var$particlesSay","make_utterance","speak","bind","time","speakTimeout","clearTimeout","$b60e4d919710b3f1$export$c36c68baa13912a5","Particle","parentSystem","_speed","SPEED","width","height","_z_generator","_z","getValue","_theta_generator","PI","_theta","opacity","min","x","y","cos","sin","delay_start","add_particle","speakIn","origin_x","origin_y","direction_x","direction_y","this_radius","discriminant","WIDTH","$b60e4d919710b3f1$export$f219b6a0e4bb0b6d","ParticleSystem","numParticles","_ticknum","window","innerWidth","body","scrollHeight","addParticle","_this","update_this","update","requestAnimationFrame","addEventListener","on_resize","closest_t","raycast","$7a6698bbb9b6cf57$export$2e2bcd8739ae039","instance","Constructor","TypeError","$345e8126ea21d802$var$_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","$345e8126ea21d802$export$2e2bcd8739ae039","protoProps","staticProps","prototype"],"version":3,"file":"particle_system.89994542.js.map"}