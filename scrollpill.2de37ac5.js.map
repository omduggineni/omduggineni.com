{"mappings":"yTAAA,MAAMA,EACFC,YAAYC,GACRC,KAAKD,QAAUA,EAEnBE,OACID,KAAKD,QAAQG,MAAMC,QAAU,QAEjCC,OACIJ,KAAKD,QAAQG,MAAMC,QAAU,QAIrC,MAAME,EACFP,YAAYQ,EAAYC,GACpBP,KAAKD,QAAUS,SAASC,eAAeH,GACvCN,KAAKD,QAAQW,UAAUC,IAAI,cAC3BX,KAAKD,QAAQW,UAAUC,IAAI,2BAC3BX,KAAKY,eAAiBZ,KAAKD,QAAQc,YAAYL,SAASM,cAAc,SACtEd,KAAKe,eAAiB,EACtBf,KAAKgB,YAAa,EAClBhB,KAAKO,QAAUA,EACf,IAAIU,EAAkBjB,KAAKD,QAAQmB,iBAAiB,sBACpD,GAAGD,EAAgBE,OAAS,EAAE,CAC1BnB,KAAKoB,OAAS,IAAIvB,EAAcoB,EAAgB,IAChD,IAAI,IAAII,EAAI,EAAGA,EAAIJ,EAAgBE,OAAQE,IACvCJ,EAAgBI,GAAGnB,MAAMC,QAAU,YAGvCH,KAAKoB,OAAS,IAAIvB,EAAcW,SAASM,cAAc,QAE3Dd,KAAKoB,OAAOnB,OACZD,KAAKoB,OAAOE,SAAU,EACtBtB,KAAKD,QAAQc,YAAYb,KAAKoB,OAAOrB,SAGrCC,KAAKY,eAAeW,UAAY,mCAChCvB,KAAKwB,eAAiBxB,KAAKyB,aAAaC,KAAK1B,MAC7C2B,OAAOC,iBAAiB,SAAU5B,KAAKwB,gBACvCxB,KAAK6B,kBAAoB7B,KAAK8B,YAAYJ,KAAK1B,MAC/CA,KAAKD,QAAQ6B,iBAAiB,aAAc5B,KAAK6B,mBACjD7B,KAAK+B,iBAAmB/B,KAAKgC,WAAWN,KAAK1B,MAC7CA,KAAKD,QAAQ6B,iBAAiB,aAAc5B,KAAK+B,kBACjD/B,KAAKiC,gBAAkBjC,KAAKkC,QAAQR,KAAK1B,MACzCA,KAAKD,QAAQ6B,iBAAiB,YAAa5B,KAAKiC,iBAEpDR,aAAaU,GACT,MAAMC,EAAUT,OAAOU,YACjBC,EAAe9B,SAAS+B,KAAKD,aAC7BE,EAAeb,OAAOc,YACtBC,EAAWN,GAAYE,EAAeE,GAAiB,IAC7DxC,KAAKe,eAAiB2B,EACtB1C,KAAKD,QAAQW,UAAUiC,OAAO,mBACd,IAAbD,GACC1C,KAAKD,QAAQW,UAAUC,IAAI,qBAC3BX,KAAKD,QAAQW,UAAUiC,OAAO,wBAC9B3C,KAAKD,QAAQW,UAAUiC,OAAO,wBAC9B3C,KAAKD,QAAQW,UAAUiC,OAAO,2BAC9BC,YAAW,KACP5C,KAAKY,eAAeW,UAAY,mCAChCvB,KAAKoB,OAAOnB,SACb,MACEyC,GAAY,KACjB1C,KAAKD,QAAQW,UAAUC,IAAI,wBAC3BX,KAAKD,QAAQW,UAAUiC,OAAO,qBAC9B3C,KAAKD,QAAQW,UAAUiC,OAAO,wBAC9B3C,KAAKD,QAAQW,UAAUiC,OAAO,2BAC1B3C,KAAKgB,YACLhB,KAAKoB,OAAOhB,OAEhBwC,YAAW,KACP5C,KAAKY,eAAeW,UAAY,yCACjC,OAEHvB,KAAKD,QAAQW,UAAUiC,OAAO,qBAC9B3C,KAAKD,QAAQW,UAAUiC,OAAO,wBAC9B3C,KAAKD,QAAQW,UAAUC,IAAI,wBAC3BX,KAAKD,QAAQW,UAAUiC,OAAO,2BAC1B3C,KAAKgB,aACLhB,KAAKY,eAAeW,UAAY,GAChCvB,KAAKoB,OAAOE,SAAU,EACtBtB,KAAKoB,OAAOhB,SAGpBJ,KAAKD,QAAQG,MAAM2C,IAAMH,GAAWF,EAAe,IAAKA,EAAiB,IAE7EV,YAAYK,GACRnC,KAAKgB,YAAa,EACQ,GAAvBhB,KAAKe,gBAA8C,KAAvBf,KAAKe,gBAChC6B,YAAW,KAAK5C,KAAKY,eAAeW,UAAY,qCAAwC,KAGhGS,WAAWG,GACPnC,KAAKgB,YAAa,EACQ,GAAvBhB,KAAKe,gBAA8C,KAAvBf,KAAKe,gBAA0Bf,KAAKoB,OAAOE,UACtEtB,KAAKY,eAAeW,UAAY,GAChCqB,YAAW,KAAK5C,KAAKY,eAAeW,UAAY,KAAM,MAG9DW,QAAQC,GACDnC,KAAKe,gBAAkB,KACtBY,OAAOmB,SAASC,QAAQ,QACxB/C,KAAKgD,OAAO,GAEZhD,KAAKY,eAAeW,UAAY,KAE7BvB,KAAKoB,OAAOE,QACe,GAAvBtB,KAAKe,eACJf,KAAKoB,OAAOE,SAAU,GAEtBtB,KAAKD,QAAQW,UAAUiC,OAAO,mBACqC,GAAhEnC,SAASU,iBAAiB,4BAA4BC,QACrDnB,KAAKoB,OAAOhB,SAIpBJ,KAAKoB,OAAOnB,OACTD,KAAKe,eAAiB,GACrBf,KAAKD,QAAQW,UAAUC,IAAI,mBAE/BiC,YAAW,KAAK5C,KAAKY,eAAeW,UAAY,qCAAwC,MAE5FvB,KAAKoB,OAAOE,SAAWtB,KAAKoB,OAAOE,SAG3C0B,OAAOC,GACHtB,OAAOuB,SAAS,EAAGD,EAAU,KAAOzC,SAAS+B,KAAKD,aAAeX,OAAOc,cACxEzC,KAAKmD,SAASC,OAAO","sources":["src/scrollpill.js"],"sourcesContent":["class ScrollPillNav {\n    constructor(element) {\n        this.element = element;\n    }\n    show(){\n        this.element.style.display = 'block';\n    }\n    hide(){\n        this.element.style.display = 'none';\n    }\n}\n\nclass ScrollPill{\n    constructor(element_id, options){\n        this.element = document.getElementById(element_id);\n        this.element.classList.add('scrollpill');\n        this.element.classList.add('scrollpill-at-top-first');\n        this.burger_element = this.element.appendChild(document.createElement('span'));\n        this.scroll_percent = 0;\n        this.is_hovered = false;\n        this.options = options;\n        let possible_navbar = this.element.querySelectorAll('.scrollpill-navbar');\n        if(possible_navbar.length > 0){\n            this.navbar = new ScrollPillNav(possible_navbar[0]);\n            for(let i = 1; i < possible_navbar.length; i++){\n                possible_navbar[i].style.display = 'none';\n            }\n        }else{\n            this.navbar = new ScrollPillNav(document.createElement('div'));\n        }\n        this.navbar.show();\n        this.navbar.is_open = false;\n        this.element.appendChild(this.navbar.element);\n\n        //initialization of handlers\n        this.burger_element.innerHTML = \"<i class=\\\"fa-solid fa-bars\\\"></i>\";\n        this.handler_scroll = this.handleScroll.bind(this);\n        window.addEventListener('scroll', this.handler_scroll);\n        this.handler_mouseover = this.onmouseover.bind(this);\n        this.element.addEventListener('mouseenter', this.handler_mouseover);\n        this.handler_mouseoff = this.onmouseoff.bind(this);\n        this.element.addEventListener('mouseleave', this.handler_mouseoff);\n        this.handler_onclick = this.onclick.bind(this);\n        this.element.addEventListener('mousedown', this.handler_onclick);\n    }\n    handleScroll(event){\n        const scrollY = window.pageYOffset;\n        const scrollHeight = document.body.scrollHeight;\n        const windowHeight = window.innerHeight;\n        const scrolled = (scrollY / (scrollHeight - windowHeight)) * 100;\n        this.scroll_percent = scrolled;\n        this.element.classList.remove('scrollpill-open');\n        if(scrolled === 0){\n            this.element.classList.add('scrollpill-at-top');\n            this.element.classList.remove('scrollpill-at-bottom');\n            this.element.classList.remove('scrollpill-at-middle');\n            this.element.classList.remove('scrollpill-at-top-first');\n            setTimeout(()=>{\n                this.burger_element.innerHTML = \"<i class=\\\"fa-solid fa-bars\\\"></i>\";\n                this.navbar.show();\n            }, 200);\n        }else if(scrolled >= 100){\n            this.element.classList.add('scrollpill-at-bottom');\n            this.element.classList.remove('scrollpill-at-top');\n            this.element.classList.remove('scrollpill-at-middle');\n            this.element.classList.remove('scrollpill-at-top-first');\n            if(!this.is_hovered){\n                this.navbar.hide();\n            }\n            setTimeout(()=>{\n                this.burger_element.innerHTML = \"<i class=\\\"fa-solid fa-arrow-up\\\"></i>\";\n            }, 200);\n        }else{\n            this.element.classList.remove('scrollpill-at-top');\n            this.element.classList.remove('scrollpill-at-bottom');\n            this.element.classList.add('scrollpill-at-middle');\n            this.element.classList.remove('scrollpill-at-top-first');\n            if(!this.is_hovered){\n                this.burger_element.innerHTML = \"\";\n                this.navbar.is_open = false;\n                this.navbar.hide();\n            }\n        }\n        this.element.style.top = (scrolled*(windowHeight - 90)/(windowHeight)) + '%';\n    }\n    onmouseover(event){\n        this.is_hovered = true;\n        if(this.scroll_percent != 0 && this.scroll_percent != 100){\n            setTimeout(()=>{this.burger_element.innerHTML = \"<i class=\\\"fa-solid fa-bars\\\"></i>\";}, 200);\n        }\n    }\n    onmouseoff(event){\n        this.is_hovered = false;\n        if(this.scroll_percent != 0 && this.scroll_percent != 100 && !this.navbar.is_open){\n            this.burger_element.innerHTML = \"\";\n            setTimeout(()=>{this.burger_element.innerHTML = \"\";}, 200);\n        }\n    }\n    onclick(event){\n        if(this.scroll_percent >= 100){\n            window.location.replace(\"#top\");\n            this.update(0);\n            //this.element.classList.add('scrollpill-at-top-first');\n            this.burger_element.innerHTML = \"\";\n        }else{\n            if(this.navbar.is_open){\n                if(this.scroll_percent == 0){\n                    this.navbar.is_open = false;\n                }else{\n                    this.element.classList.remove('scrollpill-open')\n                    if(document.querySelectorAll('.scrollpill-navbar:hover').length == 0){\n                        this.navbar.hide()\n                    }\n                }\n            }else{\n                this.navbar.show();\n                if(this.scroll_percent > 0){\n                    this.element.classList.add('scrollpill-open')\n                }\n                setTimeout(()=>{this.burger_element.innerHTML = \"<i class=\\\"fa-solid fa-bars\\\"></i>\";}, 200);\n            }\n            this.navbar.is_open = !this.navbar.is_open;\n        }\n    }\n    update(percent){\n        window.scrollTo(0, percent / 100 * (document.body.scrollHeight - window.innerHeight));\n        this.handlers.scroll(null);\n    }\n}\n\nexport {ScrollPill};"],"names":["$d008af52df4856f4$var$ScrollPillNav","constructor","element","this","show","style","display","hide","$d008af52df4856f4$export$180a60dd364660b1","element_id","options","document","getElementById","classList","add","burger_element","appendChild","createElement","scroll_percent","is_hovered","possible_navbar","querySelectorAll","length","navbar","i","is_open","innerHTML","handler_scroll","handleScroll","bind","window","addEventListener","handler_mouseover","onmouseover","handler_mouseoff","onmouseoff","handler_onclick","onclick","event","scrollY","pageYOffset","scrollHeight","body","windowHeight","innerHeight","scrolled","remove","setTimeout","top","location","replace","update","percent","scrollTo","handlers","scroll"],"version":3,"file":"scrollpill.2de37ac5.js.map"}