{"mappings":"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","sources":["src/assets/js/particle_system.js","node_modules/@swc/helpers/src/_class_call_check.mjs","node_modules/@swc/helpers/src/_create_class.mjs"],"sourcesContent":["const pix2browserstr = (pix) => {\n    return pix + 'px';\n}\n\nclass ValueNoiseGenerator{\n    constructor(max_value, max_steps){\n        this.value = Math.random() * max_value;\n        this.next_value = Math.random() * max_value;\n        this.next_value_steps = Math.floor((Math.sqrt(Math.random()) * (max_steps-1)) + 1);\n        this.max_value = max_value;\n        this.max_steps = max_steps;\n        this.step_num = 0;\n    }\n    ease(a, b, t){\n        return a + (b - a) * t; //linear interp for now\n    }\n    getValue(){\n        let value = this.ease(this.value, this.next_value, this.step_num / this.next_value_steps);\n        //console.log(this.value, this.next_value, this.step_num, this.next_value_steps, value);\n        this.step_num++;\n        if(this.step_num == this.next_value_steps){\n            this.step_num = 0;\n            this.value = this.next_value;\n            this.next_value = Math.random() * this.max_value;\n            this.next_value_steps = Math.floor((Math.sqrt(Math.random()) * (this.max_steps-1)) + 1);\n        }\n        return value;\n    }\n}\n\nconst particleSay = (text, parentElement, x, y, lifetime) => {\n    let element = document.createElement('span');\n    element.innerText = text;\n    element.classList.add('particle-system-text');\n    parentElement.appendChild(element);\n    element.style.top = y + 'px';\n    element.style.left = x + 'px';\n    element.style.animationDuration = lifetime/1000 + 's';\n    setTimeout(element.remove.bind(element), lifetime);\n    return element;\n}\nconst particlesSay = (text, particles, lifetime) => {\n    let elements = [];\n    let parentElement = particles[0]._parentSystem.text_element;\n    for(let i = 0; i < particles.length; i++){\n        let element = document.createElement('span');\n        element.classList.add('particle-system-text');\n        element.style.top = particles[i]._y + 'px';\n        element.style.left = particles[i]._x + 'px';\n        element.style.animationDuration = lifetime/1000 + 's';\n        element.innerText = text;\n        elements.push(element);\n        parentElement.appendChild(element);\n    }\n    setTimeout(() => {\n        for(let i = 0; i < elements.length; i++){\n            elements[i].remove();\n        }\n    }, lifetime);\n    return elements;\n}\n\n\nclass UtterancesObject{\n    constructor(utterances){\n        this.particles = [];\n        this.utterances = utterances;\n        this.utterance_index = 0\n        this.is_speaking = false;\n    }\n    add_particle(particle){\n        this.particles.push(particle);\n    }\n    make_utterance(){\n        if(this.particles.length == 0){\n            this.is_speaking = false;\n            return false;\n        }\n        let utterance = this.utterances[this.utterance_index];\n        particlesSay(utterance[0], this.particles, utterance[1]*1000);\n        this.utterance_index++;\n        return this.utterance_index < this.utterances.length;\n    }\n    speak(){\n        if(this.make_utterance()){\n            this.is_speaking = true;\n            setTimeout(this.speak.bind(this), this.utterances[this.utterance_index-1][1]*1000);\n        }else{\n            this.is_speaking = false;\n            this.utterance_index = 0;\n        }\n    }\n    speakIn(time){\n        if(!this.is_speaking){\n            if(this.speakTimeout || false) clearTimeout(this.speakTimeout);\n            this.speakTimeout = setTimeout(this.speak.bind(this), time);\n        }\n    }\n}\n\nconst UtterancesLibrary = {\n    rick_utterances: new UtterancesObject([[\"We're\", 0.3800000000000001], ['no', 0.2699999999999998], ['strangers', 0.24], ['to', 0.29000000000000004], ['love', 2.83], ['You', 0.33000000000000007], ['know', 0.22999999999999954], ['the', 0.25], ['rules', 0.6900000000000004], ['and', 0.3600000000000003], ['so', 0.40999999999999925], ['do', 0.3600000000000003], ['I', 1.63], ['A', 0.2900000000000009], ['full', 0.21999999999999886], [\"commitment's\", 0.5099999999999998], ['what', 0.2599999999999998], [\"I'm\", 0.7900000000000009], ['thinking', 0.3200000000000003], ['of', 1.8100000000000005], ['you', 0.3299999999999983], [\"wouldn't\", 0.4800000000000004], ['get', 0.2599999999999998], ['this', 0.25], ['from', 0.46000000000000085], ['any', 0.40000000000000036], ['other', 0.4800000000000004], ['guy', 1.2099999999999973], ['I', 1.3000000000000007], ['just', 0.3500000000000014], ['wanna', 0.259999999999998], ['tell', 0.25], ['you', 0.2900000000000027], ['how', 0.5399999999999991], [\"I'm feeling gotta make you understand\", 0.25], ['never', 0.41999999999999815], ['gonna', 1.620000000000001], ['give', 0.39000000000000057], ['you', 0.23999999999999844], ['up', 0.2700000000000031], ['never', 0.4299999999999997], ['gonna', 0.34999999999999787], ['let', 0.2699999999999996], ['you', 0.6900000000000013], ['down', 0.23999999999999844], ['never', 0.18000000000000327], ['gonna', 0.2699999999999996], ['run', 0.2699999999999996], ['around', 0.4299999999999997], ['and', 0.7399999999999984], ['desert', 0.23000000000000043], ['you', 0.16000000000000014], ['never', 0.3200000000000003], ['hi', 0.25], ['hi', 0.35999999999999943], ['hi', 0.6900000000000013], ['hi', 0.259999999999998], ['hi', 0.15000000000000213], ['hi', 0.16000000000000014], ['hi', 0.17999999999999972], ['hi', 0.35999999999999943], ['hi', 0.3500000000000014], ['hi', 0.48999999999999844], ['hi', 0.5000000000000036], ['hi', 0.3399999999999963], ['hi', 0.39000000000000057], ['hi', 1.1400000000000006], ['hi', 0.240000000000002], ['hi', 0.17999999999999972], ['hi', 0.28999999999999915], ['hi', 0.28999999999999915], ['hi', 0.36999999999999744], ['hi', 0.7899999999999991], ['hi', 0.2600000000000051], ['hi', 0.14999999999999858], ['hi', 0.269999999999996], ['hi', 0.37000000000000455], ['hi', 0.3200000000000003], ['hi', 0.7299999999999969], ['hi', 0.21000000000000085], ['hi', 0.14000000000000057], ['hi', 0.0799999999999983], ['hi', 0.20000000000000284], ['hi', 0.4200000000000017], ['hi', 0.29999999999999716], ['hi', 0.6099999999999994], ['hi', 0.4200000000000017], ['hi', 0.3399999999999963], ['hi', 0.4299999999999997], ['hi', 1.0]]),\n};\n\nclass Particle{\n    constructor(parentElement, parentSystem){\n        this._speed = Particle.SPEED;\n        this._parentSystem = parentSystem;\n        this._x = Math.random() * this._parentSystem.width;\n        this._y = Math.random() * this._parentSystem.height;\n        this._z_generator = new ValueNoiseGenerator(10, 100);\n        this._z = this._z_generator.getValue()+10;\n        //this.brightness = new ValueNoiseGenerator(1, 100);\n        this._theta_generator = new ValueNoiseGenerator(Math.PI * 2, 500);\n        this._theta = this._theta_generator.getValue();\n        \n        this.element = document.createElementNS(\"http://www.w3.org/2000/svg\", \"circle\");\n        this.element.setAttribute(\"cx\", this._x);\n        this.element.setAttribute(\"cy\", this._y);\n        this.element.setAttribute(\"r\", this._z/2);\n        this.element.setAttribute(\"opacity\", Math.min(2/(this._z), 1));\n        this.element.setAttribute(\"fill\", \"#ffff00\");\n        parentElement.appendChild(this.element);\n    }\n    update(){\n        //particle calculation logic\n        this._x = (this._x + (Math.cos(this._theta) * this._speed) + this._parentSystem.width) % this._parentSystem.width;\n        this._y = (this._y + (Math.sin(this._theta) * this._speed) + this._parentSystem.height) % this._parentSystem.height;\n        this._theta = this._theta_generator.getValue();//Math.random() * 0.2 - 0.1;\n        //console.log(this._theta);\n        this._speed += (Math.random() - Math.random()) * 0.1;\n        this._speed = Particle.SPEED + (this._speed-Particle.SPEED) * (this.SPEED > Particle.SPEED ? 0.998 : 0.95);\n        this._z = this._z_generator.getValue()+10;\n\n        if(Math.random() > 0.999) particleSay(\"Hello!\", this._parentSystem.text_element, this._x, this._y, 1000);\n\n        //actual UI update\n        this.element.setAttribute(\"cx\", this._x);\n        this.element.setAttribute(\"cy\", this._y);\n        this.element.setAttribute(\"r\", this._z/2);\n        this.element.setAttribute(\"opacity\", Math.min(2/(this._z), 1));\n    }\n    sayUtterances(utterances, delay_start){\n        //console.log(utterances);\n        utterances.add_particle(this);\n        utterances.speakIn(delay_start);\n    }\n    raycast(origin_x, origin_y, direction_x, direction_y){\n        //TODO: implement raycast\n    }\n}\nParticle.SPEED=1;\nParticle.WIDTH=15;\nclass ParticleSystem{\n    constructor(parentElement, parentTextElement, numParticles){\n        this._ticknum = 0;\n\n        this.width = window.innerWidth-Particle.WIDTH;\n        this.height = document.body.scrollHeight-Particle.WIDTH;\n\n        parentElement.style.height = this.height + 'px';\n        parentTextElement.style.height = this.height + 'px';\n\n        this.element = parentElement;\n        this.text_element = parentTextElement;\n\n        this.particles = [];\n        let addParticle = ()=>{\n            this.particles.push(new Particle(this.element, this));\n        }\n        for(let i = 0; i < numParticles; i++){\n            setTimeout(addParticle, i);\n        }\n        this.update_this = this.update.bind(this);\n        requestAnimationFrame(this.update_this);\n        window.addEventListener('resize', this.on_resize.bind(this));\n    }\n    on_resize(){\n        this.width = window.innerWidth;\n        this.height = document.body.scrollHeight;\n        this.element.style.height = this.height + 'px';\n        this.text_element.style.height = this.height + 'px';\n    }\n    update(){\n        for(let i = 0; i < this.particles.length; i++){\n            this.particles[i].update();\n        }\n        this._ticknum++;\n        requestAnimationFrame(this.update_this);\n    }\n    raycast(origin_x, origin_y, direction_x, direction_y){\n        let closest_t = -1;\n        let closest = null;\n        for(let i = 0; i < this.particles.length; i++){\n            let t = this.particles[i].raycast(origin_x, origin_y, direction_x, direction_y);\n            if(t > 0 && (closest_t < 0 || t < closest_t)){\n                closest_t = t;\n                closest = this.particles[i];\n            }\n        }\n        return closest, closest_t;\n    }\n}\n\nexport {ParticleSystem, Particle, UtterancesLibrary};","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n"],"names":["$71mVs","parcelRequire","$b60e4d919710b3f1$var$ValueNoiseGenerator","ValueNoiseGenerator","max_value","max_steps","this","value","Math","random","next_value","next_value_steps","floor","sqrt","step_num","key","a","b","t","ease","$b60e4d919710b3f1$export$39ffc4fe48846771","rick_utterances","UtterancesObject","utterances","particles","utterance_index","is_speaking","particle","push","length","utterance","text","lifetime","elements","parentElement","_parentSystem","text_element","i1","element","document","createElement","classList","add","style","top","_y","left","_x","animationDuration","innerText","appendChild","setTimeout","i","remove","$b60e4d919710b3f1$var$particlesSay","make_utterance","speak","bind","time","speakTimeout","clearTimeout","$b60e4d919710b3f1$export$c36c68baa13912a5","Particle","parentSystem","_speed","SPEED","width","height","_z_generator","_z","getValue","_theta_generator","PI","_theta","createElementNS","setAttribute","min","x","y","cos","sin","delay_start","add_particle","speakIn","origin_x","origin_y","direction_x","direction_y","WIDTH","$b60e4d919710b3f1$export$f219b6a0e4bb0b6d","ParticleSystem","parentTextElement","numParticles","_ticknum","window","innerWidth","body","scrollHeight","addParticle","_this","update_this","update","requestAnimationFrame","addEventListener","on_resize","closest_t","raycast","$7a6698bbb9b6cf57$export$2e2bcd8739ae039","instance","Constructor","TypeError","$345e8126ea21d802$var$_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","$345e8126ea21d802$export$2e2bcd8739ae039","protoProps","staticProps","prototype"],"version":3,"file":"particle_system.456bb9f8.js.map"}