!function(){function e(e,t,i,n){Object.defineProperty(e,t,{get:i,set:n,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire94c2;t.register("cpwtJ",(function(i,n){e(i.exports,"ScrollPill",(function(){return h}));var s=t("71mVs"),l=t("agqG7"),o=t("5sJc4"),a=function(){"use strict";function e(t){(0,s.default)(this,e),this.element=t,t.style.display="block",this.is_open=!0}return(0,l.default)(e,[{key:"show",value:function(){this.is_open||(this.element.style.display="block",this.is_open=!0)}},{key:"hide",value:function(){this.is_open&&(this.element.style.display="none",this.is_open=!1)}},{key:"toggle",value:function(){this.is_open?this.hide():this.show()}},{key:"disable",value:function(){this.oldShow=this.show,this.oldHide=this.hide,this.show=function(){},this.hide=function(){}}},{key:"enable",value:function(){this.show=this.oldShow,this.hide=this.oldHide}}]),e}(),r=function(){"use strict";function e(t){(0,s.default)(this,e),(0,o.default)(this,"state_machine",{AT_TOP_FIRST:"scrollpill-at-top-first",AT_TOP:"scrollpill-at-top",AT_MIDDLE:"scrollpill-at-middle",AT_BOTTOM:"scrollpill-at-bottom"}),(0,o.default)(this,"drag_states",{DRAGGING:"scrollpill-dragging"}),this.element=t,this.element_height=t.getBoundingClientRect().height,this.navbar=new a(t.querySelector(".scrollpill-navbar")),t.appendChild(this.navbar.element),t.classList.add("scrollpill"),t.classList.add("scrollpill-at-top-first"),this.state=this.state_machine.AT_TOP_FIRST,this.scrollPercentage=0,this.registerEventHandlers()}return(0,l.default)(e,[{key:"registerEventHandlers",value:function(){window.addEventListener("scroll",this.onScrollUpdate.bind(this)),window.addEventListener("resize",this.onScrollUpdate.bind(this)),this.element.addEventListener("click",this.onClick.bind(this))}},{key:"updateState",value:function(e){this.element.classList.remove(this.state),this.element.classList.add(e),this.state=e}},{key:"percentage2screenpx",value:function(e){return e/100*(window.innerHeight-1.775*this.element_height)+"px"}},{key:"percentage2windowpx",value:function(e){return e/100*(document.body.scrollHeight-window.innerHeight)}},{key:"onScrollUpdate",value:function(e){var t=window.scrollY/(document.body.scrollHeight-window.innerHeight)*100;this.element.classList.contains("scrollpill-open")&&this.element.classList.remove("scrollpill-open"),this.scrollPercentage=t,this.element.style.top=this.percentage2screenpx(t),0==t?(this.updateState(this.state_machine.AT_TOP),this.navbar.show()):t>=99.75?(this.updateState(this.state_machine.AT_BOTTOM),this.navbar.hide()):(this.updateState(this.state_machine.AT_MIDDLE),this.navbar.hide())}},{key:"onPercentageUpdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.scrollBehavior,n=void 0===i?"instant":i;window.scrollTo({right:0,top:this.percentage2windowpx(e),behavior:n}),this.onScrollUpdate()}},{key:"onClick",value:function(){if(this.state==this.state_machine.AT_BOTTOM){var e=this;this.navbar.disable(),this.onPercentageUpdate(0,{scrollBehavior:"smooth"});var t=function(){0==e.scrollPercentage&&(window.removeEventListener("scroll",t),e.navbar.enable(),e.navbar.show())};window.addEventListener("scroll",t),setTimeout((function(){window.removeEventListener("scroll",t),e.navbar.enable(),e.navbar.show()}),2e3)}this.navbar.is_open?(this.element.classList.remove("scrollpill-open"),this.navbar.hide()):(this.element.classList.add("scrollpill-open"),this.navbar.show())}}]),e}(),h=function e(t,i){"use strict";(0,s.default)(this,e);var n=document.getElementById(t);this.element=new r(n),this.options=null!=i?i:{}}})),t.register("71mVs",(function(t,i){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e(t.exports,"default",(function(){return n}))})),t.register("agqG7",(function(t,i){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}e(t.exports,"default",(function(){return s}))})),t.register("5sJc4",(function(t,i){function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}e(t.exports,"default",(function(){return n}))}))}();
//# sourceMappingURL=scrollpill.16891650.js.map
